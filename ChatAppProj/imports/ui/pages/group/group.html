<template name="groupPage">
    {{#if currentUser}}
        <div id="groupBox">
            <!-- Top banner with infos and settings -->
            <div id="groupInfo">
                <div id="goBack">Back</div>
                {{> groupName}}
                <div id="groupSettings">Settings</div>
            </div>
            <!-- All messages of the group displayed here -->
            <div id="messages">
                {{> groupMessages}}
            </div>
            <!-- Button to send a new message -->
            <div id="typeMessage">
                Send message
            </div>

            <!-- Pop-up window to display predefined messages -->
            <div id="messageBox">
                {{> messageBox}}
            </div>
        </div>
    {{else}}
        {{> rr2nf_01}}
    {{/if}}
    
</template>

<!--FOR MESSAGE POP UP (predefined) -->
<!-- Template for predefined messages -->
<template name="messageBox">
    {{#each predefinedMessages}}
        {{> predefinedMessage}}
    {{/each}}
    {{#each customMessages}}
        {{> customMessage}}
    {{/each}}
</template>

<!-- Template for formatting each predefined message -->
<template name="predefinedMessage">
    <div class="predefinedMessage" id="{{_id}}">{{message}}</div>
</template>

<!-- Template for formatting each custom message -->
<template name="customMessage">
    <div class="predefinedMessage" id="{{_id}}">{{message}}</div>
</template>

<!-- FOR SENT MESSAGES-->
<!-- Messages to be displayed-->
<template name="groupMessages">
    {{#each sentMessages}}
        {{> displayMessage}}
    {{/each}}
</template>

<template name="displayMessage">
    <div class="message {{priority}}">
        <div class="author">{{author}} ({{date}})</div>
        <div class="body">{{message}}</div>
    </div>
</template>

<template name="groupName">
    <input type="text" id="groupTitle" placeholder="Group name" value="{{name}}">
</template>

<!-- TEMPLATE TO REROUTE TO 404 PAGE IF USER IS NOT LOGGED IN -->
<template name="rr2nf_01"></template>